(function(t){function e(e){for(var i,a,s=e[0],u=e[1],c=e[2],l=0,p=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);f&&f(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},o=[];function a(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"a6108fcf"}[t]+".js"}function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=i);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=a(t);var c=new Error;o=function(e){u.onerror=u.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",c.name="ChunkLoadError",c.type=i,c.request=o,n[1](c)}r[t]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(e)},s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"2cba":function(t,e,n){"use strict";n("b0de")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),n("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),n("router-view")],1)},o=[],a=(n("034f"),n("2877")),s={},u=Object(a["a"])(s,r,o,!1,null,null,null),c=u.exports,l=(n("d3b7"),n("8c4f")),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("b-row",[n("b-col"),n("b-col",{attrs:{cols:"8"}},[n("Numbers")],1),n("b-col")],1)],1)},p=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"numbers"}},[n("b-row",[n("b-col",{attrs:{sm:"12",lg:"6",md:"6"}},[n("div",{attrs:{id:"drawNumber"}},[n("canvas",{directives:[{name:"hammer",rawName:"v-hammer:panstart",value:t.startPainting,expression:"startPainting",arg:"panstart"},{name:"hammer",rawName:"v-hammer:panmove",value:t.sketch,expression:"sketch",arg:"panmove"},{name:"hammer",rawName:"v-hammer:panend",value:t.stopPainting,expression:"stopPainting",arg:"panend"}],ref:"mnist",attrs:{id:"mnist"},on:{mousedown:t.startPainting,mousemove:t.sketch,mouseup:t.stopPainting,mouseleave:t.stopPainting}})]),n("b-button",{attrs:{variant:"info"},on:{click:t.clearPainting}},[t._v("Clear")])],1),n("b-col",{attrs:{sm:"12",lg:"6",md:"6"}},[n("Barchart",{attrs:{labels:t.labels,predictions:t.predictions}})],1)],1)],1)},d=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"barchart"}},t._l(t.labels,(function(e,i){return n("div",{key:i,staticClass:"element"},[n("div",{staticClass:"bar",style:{background:"white",height:100*(1-t.predictions[i])+"px"}}),n("div",{staticClass:"bar",style:{background:"blue",height:100*t.predictions[i]+"px"}}),t._v(" "+t._s(e)+" ")])})),0)},b=[],v={name:"Barchart",props:{labels:Array,predictions:Array},computed:{}},g=v,y=(n("2cba"),Object(a["a"])(g,m,b,!1,null,"58f0c12f",null)),w=y.exports,x={name:"Numbers",components:{Barchart:w},data:function(){return{ctx:null,paint:!1,strideSize:12,leftOff:0,topOff:0,height:0,width:0,color:"black",mouse_pos:{x:innerWidth/2,y:innerHeight/2},labels:[0,1,2,3,4,5,6,7,8,9],predictions:[0,0,0,0,0,0,0,0,0,0]}},destroyed:function(){window.removeEventListener("resize",this.onResize)},mounted:function(){this.initialize(),window.addEventListener("resize",this.onResize)},methods:{initialize:function(){var t=this.$refs.mnist;t.height=t.clientHeight,t.width=t.clientWidth,this.height=t.height,this.width=t.width,this.setOffsets(t),this.ctx=t.getContext("2d")},setOffsets:function(t){this.leftOff=t.getBoundingClientRect().x,this.topOff=t.getBoundingClientRect().y},onResize:function(){this.initialize()},startPainting:function(t){this.paint=!0,this.getPosition(t)},getPosition:function(t){this.mouse_pos.x=t.clientX-this.leftOff,this.mouse_pos.y=t.clientY-this.topOff},stopPainting:function(){var t=this;if(this.paint){this.paint=!1;var e=new FormData;e.append("image",this.$refs.mnist.toDataURL("image/png"));var n={headers:{"Content-Type":"multipart/form-data"}};this.$api.post("/process_number",e,n).then((function(e){t.predictions=e.data.predictions}))}},clearPainting:function(){this.ctx.clearRect(0,0,this.width,this.height)},sketch:function(t){this.paint&&(this.ctx.beginPath(),this.ctx.lineWidth=this.strideSize,this.ctx.lineCap="butt",this.ctx.strokeStyle=this.color,this.ctx.moveTo(this.mouse_pos.x,this.mouse_pos.y),this.getPosition(t),this.ctx.lineTo(this.mouse_pos.x,this.mouse_pos.y),this.ctx.closePath(),this.ctx.stroke())}}},_=x,P=(n("63ad"),Object(a["a"])(_,h,d,!1,null,"b3fe5c48",null)),O=P.exports,k={name:"Home",components:{Numbers:O}},j=k,C=Object(a["a"])(j,f,p,!1,null,null,null),z=C.exports;i["default"].use(l["a"]);var E=[{path:"/",name:"Home",component:z},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],$=new l["a"]({routes:E}),R=$,S=n("5f5b"),T=n("b1e0"),N=(n("f9e3"),n("2dd8"),n("bc3a")),H=n.n(N),L=n("6591"),A="";i["default"].use({install:function(t){t.prototype.$api=H.a.create({baseURL:A})}}),i["default"].config.productionTip=!1,i["default"].use(L["VueHammer"]),i["default"].use(S["a"]),i["default"].use(T["a"]),new i["default"]({router:R,render:function(t){return t(c)}}).$mount("#app")},"63ad":function(t,e,n){"use strict";n("e832")},"85ec":function(t,e,n){},b0de:function(t,e,n){},e832:function(t,e,n){}});
//# sourceMappingURL=app.3669952e.js.map